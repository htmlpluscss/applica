Element.prototype.matches=Element.prototype.webkitMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),o=0;t[o]&&t[o]!==this;)++o;return!!t[o]},Element.prototype.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null},
/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */
"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||function(e){if("Element"in e){e=e.Element.prototype;var t=Object,o=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},n=Array.prototype.indexOf||function(e){for(var t=0,o=this.length;t<o;t++)if(t in this&&this[t]===e)return t;return-1},r=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},i=function(e,t){if(""===t)throw new r("SYNTAX_ERR","The token must not be empty.");if(/\s/.test(t))throw new r("INVALID_CHARACTER_ERR","The token must not contain space characters.");return n.call(e,t)},s=function(e){for(var t=o.call(e.getAttribute("class")||""),n=0,r=(t=t?t.split(/\s+/):[]).length;n<r;n++)this.push(t[n]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},c=s.prototype=[],a=function(){return new s(this)};if(r.prototype=Error.prototype,c.item=function(e){return this[e]||null},c.contains=function(e){return!~i(this,e+"")},c.add=function(){var e=arguments,t=0,o=e.length,n=!1;do{var r=e[t]+"";~i(this,r)&&(this.push(r),n=!0)}while(++t<o);n&&this._updateClassName()},c.remove=function(){var e,t=arguments,o=0,n=t.length,r=!1;do{var s=t[o]+"";for(e=i(this,s);~e;)this.splice(e,1),r=!0,e=i(this,s)}while(++o<n);r&&this._updateClassName()},c.toggle=function(e,t){var o=this.contains(e),n=o?!0!==t&&"remove":!1!==t&&"add";return n&&this[n](e),!0===t||!1===t?t:!o},c.replace=function(e,t){var o=i(e+"");~o&&(this.splice(o,1,t),this._updateClassName())},c.toString=function(){return this.join(" ")},t.defineProperty){c={get:a,enumerable:!0,configurable:!0};try{t.defineProperty(e,"classList",c)}catch(o){void 0!==o.number&&-2146823252!==o.number||(c.enumerable=!1,t.defineProperty(e,"classList",c))}}else t.prototype.__defineGetter__&&e.__defineGetter__("classList",a)}}(self),function(){var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var o,n=arguments.length;for(o=0;o<n;o++)e=arguments[o],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var o=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:o.call(this,e)}}"replace"in document.createElement("_").classList||(DOMTokenList.prototype.replace=function(e,t){var o=this.toString().split(" "),n=o.indexOf(e+"");~n&&(o=o.slice(n),this.remove.apply(this,o),this.add(t),this.add.apply(this,o.slice(1)))}),e=null}());
/*! UTF-8

© kovrigin
Все права разрешены
красивый дизайн должен иметь красивый код®

https://github.com/htmlpluscss/

*/
var APPLICA={};!function(){APPLICA.body=document.body,APPLICA.width=window.innerWidth,APPLICA.height=window.innerHeight;var e=null;window.addEventListener("resize",function(){e||(e=setTimeout(function(){e=null,APPLICA.width=window.innerWidth,APPLICA.height=window.innerHeight},100))}),APPLICA.isInViewport=function(e){var t=e.getBoundingClientRect();return t.top>=0&&t.bottom<=APPLICA.height}}(),function(){var e=document.querySelectorAll(".form");Array.prototype.forEach.call(e,function(e){var t=e.querySelectorAll("[required]"),n=e.querySelector("button");document.querySelectorAll(".input");e.addEventListener("submit",function(r){r.preventDefault();var i=!1,s=new FormData(e);if(Array.prototype.forEach.call(t,function(e){"checkbox"==e.getAttribute("type")?e.checked?e.parentNode.classList.remove("checkbox--error"):(e.parentNode.classList.add("checkbox--error"),i=!0):(o(e),e.value||(i=!0))}),!i){var c=new XMLHttpRequest;c.open("POST",e.getAttribute("action")),c.send(s),n.disabled=!0,c.onreadystatechange=function(){4==c.readyState&&(e.classList.add("form--ok"),e.reset(),n.disabled=!1),200!=c.status&&alert("ошибка "+c.status)}}})});var t=document.querySelectorAll(".input");function o(e){e.value?(e.classList.remove("input--error"),e.parentNode.classList.remove("input-box--error")):e.getAttribute("required")&&(e.classList.add("input--error"),e.parentNode.classList.add("input-box--error"))}Array.prototype.forEach.call(t,function(e){e.addEventListener("keyup",function(){o(e)}),e.addEventListener("blur",function(){o(e)})});var n=document.querySelectorAll(".checkbox");Array.prototype.forEach.call(n,function(e){var t=e.querySelector("input");t.addEventListener("change",function(){t.checked&&e.classList.remove("checkbox--error")})})}(),function(e){e&&(APPLICA.AJAX={ON:!0,page:2,size:12,url:e.getAttribute("data-url"),count:parseInt(e.getAttribute("data-nav-record-count")),list:document.querySelector(".list-article__box"),box:document.createElement("div")},window.addEventListener("scroll",function(){window.requestAnimationFrame(function(){if(APPLICA.AJAX.ON&&APPLICA.isInViewport(e)&&!e.classList.contains("is-active")){e.classList.add("is-active");var t=new XMLHttpRequest,o=/\?/i.test(APPLICA.AJAX.url)?"&":"?";o+="AJAX=Y&COMPONENT=BLOG&"+APPLICA.AJAX.pagen_n+"="+APPLICA.AJAX.page,t.open("GET",APPLICA.AJAX.url+o),t.onreadystatechange=function(){4===t.readyState&&(APPLICA.AJAX.box.innerHTML=t.responseText,Array.prototype.forEach.call(APPLICA.AJAX.box.children,function(e){APPLICA.AJAX.list.appendChild(e.cloneNode(!0))}),APPLICA.AJAX.size*APPLICA.AJAX.page>=APPLICA.AJAX.count&&(e.classList.add("hide"),APPLICA.AJAX.ON=!1),APPLICA.AJAX.page++,e.classList.remove("is-active")),200!==t.status&&console.log("ошибка "+t.status)},t.send()}})}))}(document.querySelector(".js-loading")),document.querySelector(".header__btn-menu-toggle").addEventListener("click",function(){APPLICA.OpenMenu?(APPLICA.body.classList.remove("menu-show"),window.scrollTo(0,APPLICA.windowScrollOld),APPLICA.OpenMenu=!1):(APPLICA.OpenMenu=!0,APPLICA.windowScrollOld=window.pageYOffset,window.scrollTo(0,0),APPLICA.body.classList.add("menu-show"))}),function(){var e=document.querySelector(".modal"),t=e.querySelectorAll(".modal__item"),o=e.querySelectorAll(".modal__close"),n=document.querySelectorAll("[data-modal]"),r=document.querySelector(".wrapper");Array.prototype.forEach.call(o,function(e){e.addEventListener("click",function(){APPLICA.hideModal()})}),APPLICA.hideModal=function(){e.classList.add("hidden-visible"),APPLICA.body.classList.remove("modal-show"),r.style.top=0,window.scrollTo(0,APPLICA.windowScrollOld),APPLICA.activeModal=!1},APPLICA.modalShow=function(o){APPLICA.activeModal||(APPLICA.windowScrollOld=window.pageYOffset,r.style.top=-APPLICA.windowScrollOld+"px"),APPLICA.activeModal=e.querySelector(".modal__item--"+o),Array.prototype.forEach.call(t,function(e){e.classList.toggle("hidden-visible",e!==APPLICA.activeModal)}),e.classList.remove("hidden-visible"),APPLICA.body.classList.add("modal-show"),window.scrollTo(0,0),APPLICA.OpenMenu&&(document.body.classList.remove("menu-show"),APPLICA.OpenMenu=!1),APPLICA.activeModal.focus()},Array.prototype.forEach.call(n,function(e){e.addEventListener("click",function(e){APPLICA.modalShow(this.getAttribute("data-modal"))})})}();